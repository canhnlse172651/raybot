import{b as re,C as fe,_ as Z,c as me,d as _e,e as pe,f as be,g as ce,H as ge,h as ye,i as ve,j as Se,k as xe,l as we,W as Ce,m as ke}from"./use-config-DatuapqB.js";import{c as oe,a as Pe,e as te,i as Ee,u as Te}from"./http-Z9rgl52c.js";import{c as $,o as A,s as q,ac as J,f as se,F as o,a as r,b as f,_ as m,d as p,t as de,n as Q,C as G,u as ie,aj as $e,l as z}from"./FormMessage.vuevuetypescriptsetuptruelang-WYaIZJOd.js";import{_ as X}from"./index-CvEIS6KB.js";/* empty css                                                              */import{d as N,Q as Ve,P as Ie,r as De,p as E,o as _,g as l,u as e,q as Ae,w as a,c as R,l as n,v as ae,J as M,s,m as P,D as V,F as j,E as ne,i as W,j as Y,Z as Re,G as Ne,H as he}from"./index-BWQiikOf.js";import{_ as Oe}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as B,_ as Le}from"./PageContainer.vuevuetypescriptsetuptruelang-BMnOwmiV.js";import{_ as O,a as L,b as U,c as F,d as x}from"./SelectValue.vuevuetypescriptsetuptruelang-DIL7_Wf9.js";import{_ as Ue,a as ee,b as le,c as Fe}from"./TabsTrigger.vuevuetypescriptsetuptruelang-CQFP6i1P.js";import"./useForwardPropsEmits-BdCRpJMf.js";import"./useFormControl-lm5GEZvp.js";import"./check-CQqiH5K1.js";import"./RovingFocusGroup-BbHuxOEQ.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=oe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=oe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),He={class:"relative"},Qe={class:"sr-only"},je=N({__name:"PasswordInput",props:Ve({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(k){const b=k,v=Ie(k,"modelValue"),C=De(!1);function T(){C.value=!C.value}return(w,S)=>(_(),E("div",He,[l(e($),{modelValue:v.value,"onUpdate:modelValue":S[0]||(S[0]=I=>v.value=I),type:e(C)?"text":"password",class:Ae(e(Pe)("pr-10 hide-password-toggle",b.class))},null,8,["modelValue","type","class"]),l(e(X),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:T},{default:a(()=>[e(C)&&!b.disabled?(_(),R(e(Be),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(_(),R(e(qe),{key:1,class:"w-4 h-4","aria-hidden":"true"})),n("span",Qe,ae(e(C)?"Hide password":"Show password"),1)]),_:1})]))}}),ue=Oe(je,[["__scopeId","data-v-e2be5266"]]),Me={class:"space-y-0.5"},We=N({__name:"CloudConfigForm",props:{initialValues:{}},setup(k){const b=k,v=A({enable:J().default(!1),address:q().min(1,"Address is required"),token:q().min(1,"Token is required")}),C=te(),{mutate:T,isPending:w}=re(),I=se({validationSchema:de(v),initialValues:b.initialValues}).handleSubmit(u=>{T(u,{onSuccess:()=>{C.setQueryData([fe],u),M.success("Cloud configuration updated successfully!")},onError:()=>{M.error("Failed to update cloud configuration")}})});return(u,d)=>(_(),E("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...y)=>e(I)&&e(I)(...y))},[d[5]||(d[5]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(o),{name:"address"},{default:a(({componentField:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[1]||(d[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(m),null,{default:a(()=>[l(e($),P(y,{type:"url",placeholder:"https://cloud.example.com",disabled:e(w)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"token"},{default:a(({componentField:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[2]||(d[2]=[s("Auth token")])),_:1,__:[2]}),l(e(m),null,{default:a(()=>[l(e(ue),P(y,{placeholder:"Enter your auth token",disabled:e(w)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"enable"},{default:a(({value:y,handleChange:H})=>[l(e(r),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Me,[l(e(f),null,{default:a(()=>d[3]||(d[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(m),null,{default:a(()=>[l(e(Z),{"model-value":y,disabled:e(w),"aria-readonly":"","onUpdate:modelValue":H},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(X),{type:"submit",disabled:e(w)},{default:a(()=>[e(w)?(_(),R(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):V("",!0),d[4]||(d[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),Ye={key:0,class:"flex items-center justify-center h-full"},Ge=N({__name:"CloudConfigTab",setup(k){const{data:b,isPending:v}=me();return(C,T)=>(_(),E(j,null,[e(v)?(_(),E("div",Ye,[l(e(B),{class:"w-4 h-4 animate-spin"})])):V("",!0),e(b)?(_(),R(We,{key:1,"initial-values":e(b)},null,8,["initial-values"])):V("",!0)],64))}}),Ke={class:"grid grid-cols-1 gap-8"},ze={class:"space-y-3"},Ze={class:"space-y-6 ps-4"},Je={class:"grid grid-cols-1 gap-8"},Xe={class:"space-y-3"},el={class:"space-y-6 ps-4"},ll={class:"space-y-6"},al=N({__name:"CommandConfigForm",props:{initialValues:{}},setup(k){const b=k,v=A({cargoLift:A({stableReadCount:Q().int().positive("Stable read count must be positive").min(1)}),cargoLower:A({stableReadCount:Q().int().positive("Stable read count must be positive").min(1),bottomObstacleTracking:A({enterDistance:Q().int().min(1),exitDistance:Q().int().min(1)})})}).superRefine((u,d)=>{u.cargoLower.bottomObstacleTracking.enterDistance>=u.cargoLower.bottomObstacleTracking.exitDistance&&(d.addIssue({code:G.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.enterDistance"]}),d.addIssue({code:G.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.exitDistance"]}))}),C=te(),{mutate:T,isPending:w}=_e(),I=se({validationSchema:de(v),initialValues:b.initialValues}).handleSubmit(u=>{T(u,{onSuccess:()=>{M.success("Command configuration updated successfully!"),C.setQueryData([pe],u)}})});return(u,d)=>(_(),E("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...y)=>e(I)&&e(I)(...y))},[n("div",Ke,[n("div",ze,[d[2]||(d[2]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lift configuration ",-1)),n("div",Ze,[l(e(o),{name:"cargoLift.stableReadCount"},{default:a(({componentField:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[1]||(d[1]=[s("Stable Read Count")])),_:1,__:[1]}),l(e(m),null,{default:a(()=>[l(e($),P(y,{type:"number",disabled:e(w)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})])])]),n("div",Je,[n("div",Xe,[d[7]||(d[7]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lower configuration ",-1)),n("div",el,[l(e(o),{name:"cargoLower.stableReadCount"},{default:a(({componentField:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[3]||(d[3]=[s("Stable Read Count")])),_:1,__:[3]}),l(e(m),null,{default:a(()=>[l(e($),P(y,{type:"number",disabled:e(w)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),n("div",ll,[d[6]||(d[6]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Bottom Obstacle Tracking ",-1)),l(e(o),{name:"cargoLower.bottomObstacleTracking.enterDistance"},{default:a(({componentField:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[4]||(d[4]=[s("Enter Distance (cm)")])),_:1,__:[4]}),l(e(m),null,{default:a(()=>[l(e($),P(y,{type:"number",disabled:e(w)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"cargoLower.bottomObstacleTracking.exitDistance"},{default:a(({componentField:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[5]||(d[5]=[s("Exit Distance (cm)")])),_:1,__:[5]}),l(e(m),null,{default:a(()=>[l(e($),P(y,{type:"number",disabled:e(w)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})])])])]),n("div",null,[l(e(X),{type:"submit",disabled:e(w)},{default:a(()=>[e(w)?(_(),R(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):V("",!0),d[8]||(d[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),tl={key:0,class:"flex items-center justify-center h-full"},sl=N({__name:"CommandConfigTab",setup(k){const{data:b,isPending:v}=be();return(C,T)=>(_(),E(j,null,[e(v)?(_(),E("div",tl,[l(e(B),{class:"w-4 h-4 animate-spin"})])):V("",!0),e(b)?(_(),R(al,{key:1,"initial-values":e(b)},null,8,["initial-values"])):V("",!0)],64))}}),dl={listAvailableSerialPorts:k=>Ee.get("/peripherals/serials",k)};function nl(k){return Te({queryKey:["serial-ports"],queryFn:()=>dl.listAvailableSerialPorts(k),select:b=>b.items})}const ul={class:"grid grid-cols-1 gap-8"},il={class:"space-y-3"},ol={class:"px-4 space-y-6"},rl={class:"space-y-6"},fl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ml={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},_l={class:"space-y-6"},pl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},bl={class:"space-y-6"},cl={class:"space-y-3"},gl={class:"px-4 space-y-6"},yl={class:"space-y-6"},vl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Sl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},xl={class:"space-y-6"},wl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Cl={class:"space-y-6"},kl={class:"space-y-3"},Pl={class:"px-4 space-y-6"},El={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Tl=N({__name:"HardwareConfigForm",props:{initialValues:{}},setup(k){const b=k,v=[9600,19200,38400,57600,115200],C=A({port:q().min(1,"Port is required"),baudRate:Q().int().positive("Baud rate must be positive"),parity:$e(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ie([z(5),z(6),z(7),z(8)]).default(8),stopBits:ie([z(1),z(1.5),z(2)]).default(1),readTimeout:Q().int().nonnegative("Read timeout must be non-negative")}),T=A({pin:q().min(1,"Pin is required")}),w=A({esp:A({serial:C,enableAck:J().default(!1),commandAckTimeout:Q().int().nonnegative("Command ack timeout must be non-negative")}),pic:A({serial:C,enableAck:J().default(!1),commandAckTimeout:Q().int().nonnegative("Command ack timeout must be non-negative")}),leds:A({system:T.default({pin:""}),alert:T.default({pin:""})}).default({system:{pin:""},alert:{pin:""}})}).superRefine((g,t)=>{g.esp.serial.port===g.pic.serial.port&&(t.addIssue({code:G.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:G.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]})),g.leds.system.pin===g.leds.alert.pin&&(t.addIssue({code:G.custom,message:"System and alert LEDs cannot use the same pin",path:["leds.system.pin"]}),t.addIssue({code:G.custom,message:"System and alert LEDs cannot use the same pin",path:["leds.alert.pin"]}))}),S=te(),{mutate:I,isPending:u}=ce(),{data:d,refetch:y}=nl({doNotShowLoading:!0}),h=se({validationSchema:de(w),initialValues:b.initialValues}).handleSubmit(g=>{I(g,{onSuccess:()=>{S.setQueryData([ge],g),M.success("Hardware configuration updated successfully!")},onError:()=>{M.error("Failed to update hardware configuration")}})});function c(g){g&&y()}return(g,t)=>(_(),E("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...i)=>e(h)&&e(h)(...i))},[n("div",ul,[n("div",il,[t[22]||(t[22]=n("h4",{class:"text-lg font-medium tracking-tight"}," ESP Controller ",-1)),n("div",ol,[n("div",rl,[t[18]||(t[18]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",fl,[l(e(o),{name:"esp.serial.port"},{default:a(({componentField:i,value:D})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(O),P(i,{required:"","onUpdate:open":c}),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:D},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(F),null,{default:a(()=>[l(e(x),{value:"NONEESP"},{default:a(()=>t[2]||(t[2]=[s(" None ")])),_:1,__:[2]}),e(d)?(_(!0),E(j,{key:0},ne(e(d),K=>(_(),R(e(x),{key:K.port,value:K.port},{default:a(()=>[s(ae(K.port),1)]),_:2},1032,["value"]))),128)):V("",!0)]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"esp.serial.readTimeout"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[3]||(t[3]=[s("Read Timeout (s)")])),_:1,__:[3]}),l(e(m),null,{default:a(()=>[l(e($),P(i,{type:"number",disabled:e(u),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})]),n("div",ml,[l(e(o),{name:"esp.serial.baudRate"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[4]||(t[4]=[s("Baud Rate")])),_:1,__:[4]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[(_(),E(j,null,ne(v,D=>l(e(x),{key:D,value:D},{default:a(()=>[s(ae(D),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"esp.serial.parity"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[5]||(t[5]=[s("Parity")])),_:1,__:[5]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[l(e(x),{value:"NONE"},{default:a(()=>t[6]||(t[6]=[s(" None ")])),_:1,__:[6]}),l(e(x),{value:"EVEN"},{default:a(()=>t[7]||(t[7]=[s(" Even ")])),_:1,__:[7]}),l(e(x),{value:"ODD"},{default:a(()=>t[8]||(t[8]=[s(" Odd ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"esp.serial.dataBits"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[9]||(t[9]=[s("Data Bits")])),_:1,__:[9]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[l(e(x),{value:5},{default:a(()=>t[10]||(t[10]=[s(" 5 ")])),_:1,__:[10]}),l(e(x),{value:6},{default:a(()=>t[11]||(t[11]=[s(" 6 ")])),_:1,__:[11]}),l(e(x),{value:7},{default:a(()=>t[12]||(t[12]=[s(" 7 ")])),_:1,__:[12]}),l(e(x),{value:8},{default:a(()=>t[13]||(t[13]=[s(" 8 ")])),_:1,__:[13]})]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"esp.serial.stopBits"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[14]||(t[14]=[s("Stop Bits")])),_:1,__:[14]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[l(e(x),{value:1},{default:a(()=>t[15]||(t[15]=[s(" 1 ")])),_:1,__:[15]}),l(e(x),{value:1.5},{default:a(()=>t[16]||(t[16]=[s(" 1.5 ")])),_:1,__:[16]}),l(e(x),{value:2},{default:a(()=>t[17]||(t[17]=[s(" 2 ")])),_:1,__:[17]})]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1})])]),n("div",_l,[t[21]||(t[21]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",pl,[n("div",bl,[l(e(o),{name:"esp.enableAck"},{default:a(({value:i,handleChange:D})=>[l(e(r),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(f),null,{default:a(()=>t[19]||(t[19]=[s("Enable Ack")])),_:1,__:[19]}),l(e(m),null,{default:a(()=>[l(e(Z),{"model-value":i,disabled:e(u),"aria-readonly":"","onUpdate:modelValue":D},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"esp.commandAckTimeout"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[20]||(t[20]=[s("Ack Timeout (ms)")])),_:1,__:[20]}),l(e(m),null,{default:a(()=>[l(e($),P(i,{type:"number",disabled:e(u),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})])])])])]),n("div",cl,[t[44]||(t[44]=n("h4",{class:"text-lg font-medium tracking-tight"}," PIC Controller ",-1)),n("div",gl,[n("div",yl,[t[40]||(t[40]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",vl,[l(e(o),{name:"pic.serial.port"},{default:a(({componentField:i,value:D})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[23]||(t[23]=[s("Port")])),_:1,__:[23]}),l(e(O),P(i,{required:"","onUpdate:open":c}),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:D},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(F),null,{default:a(()=>[l(e(x),{value:"NONEPIC"},{default:a(()=>t[24]||(t[24]=[s(" None ")])),_:1,__:[24]}),e(d)?(_(!0),E(j,{key:0},ne(e(d),K=>(_(),R(e(x),{key:K.port,value:K.port},{default:a(()=>[s(ae(K.port),1)]),_:2},1032,["value"]))),128)):V("",!0)]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"pic.serial.readTimeout"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[25]||(t[25]=[s("Read Timeout (s)")])),_:1,__:[25]}),l(e(m),null,{default:a(()=>[l(e($),P(i,{type:"number",disabled:e(u),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})]),n("div",Sl,[l(e(o),{name:"pic.serial.baudRate"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[26]||(t[26]=[s("Baud Rate")])),_:1,__:[26]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[(_(),E(j,null,ne(v,D=>l(e(x),{key:D,value:D},{default:a(()=>[s(ae(D),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"pic.serial.parity"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[27]||(t[27]=[s("Parity")])),_:1,__:[27]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[l(e(x),{value:"NONE"},{default:a(()=>t[28]||(t[28]=[s(" None ")])),_:1,__:[28]}),l(e(x),{value:"EVEN"},{default:a(()=>t[29]||(t[29]=[s(" Even ")])),_:1,__:[29]}),l(e(x),{value:"ODD"},{default:a(()=>t[30]||(t[30]=[s(" Odd ")])),_:1,__:[30]})]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"pic.serial.dataBits"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[31]||(t[31]=[s("Data Bits")])),_:1,__:[31]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[l(e(x),{value:5},{default:a(()=>t[32]||(t[32]=[s(" 5 ")])),_:1,__:[32]}),l(e(x),{value:6},{default:a(()=>t[33]||(t[33]=[s(" 6 ")])),_:1,__:[33]}),l(e(x),{value:7},{default:a(()=>t[34]||(t[34]=[s(" 7 ")])),_:1,__:[34]}),l(e(x),{value:8},{default:a(()=>t[35]||(t[35]=[s(" 8 ")])),_:1,__:[35]})]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"pic.serial.stopBits"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[36]||(t[36]=[s("Stop Bits")])),_:1,__:[36]}),l(e(O),W(Y(i)),{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(L),{disabled:e(u)},{default:a(()=>[l(e(U),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(F),null,{default:a(()=>[l(e(x),{value:1},{default:a(()=>t[37]||(t[37]=[s(" 1 ")])),_:1,__:[37]}),l(e(x),{value:1.5},{default:a(()=>t[38]||(t[38]=[s(" 1.5 ")])),_:1,__:[38]}),l(e(x),{value:2},{default:a(()=>t[39]||(t[39]=[s(" 2 ")])),_:1,__:[39]})]),_:1})]),_:2},1040),l(e(p))]),_:2},1024)]),_:1})])]),n("div",xl,[t[43]||(t[43]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",wl,[n("div",Cl,[l(e(o),{name:"pic.enableAck"},{default:a(({value:i,handleChange:D})=>[l(e(r),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(f),null,{default:a(()=>t[41]||(t[41]=[s("Enable Ack")])),_:1,__:[41]}),l(e(m),null,{default:a(()=>[l(e(Z),{"model-value":i,disabled:e(u),"aria-readonly":"","onUpdate:modelValue":D},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"pic.commandAckTimeout"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[42]||(t[42]=[s("Ack Timeout (ms)")])),_:1,__:[42]}),l(e(m),null,{default:a(()=>[l(e($),P(i,{type:"number",disabled:e(u),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})])])])])])]),n("div",kl,[t[47]||(t[47]=n("h4",{class:"text-lg font-medium tracking-tight"}," LED Configuration ",-1)),n("div",Pl,[n("div",El,[l(e(o),{name:"leds.system.pin"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[45]||(t[45]=[s("System LED Pin")])),_:1,__:[45]}),l(e(m),null,{default:a(()=>[l(e($),P(i,{disabled:e(u),placeholder:"e.g. GPIO2"}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"leds.alert.pin"},{default:a(({componentField:i})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>t[46]||(t[46]=[s("Alert LED Pin")])),_:1,__:[46]}),l(e(m),null,{default:a(()=>[l(e($),P(i,{disabled:e(u),placeholder:"e.g. GPIO2"}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1})])])]),n("div",null,[l(e(X),{type:"submit",disabled:e(u)},{default:a(()=>[e(u)?(_(),R(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):V("",!0),t[48]||(t[48]=s(" Save "))]),_:1,__:[48]},8,["disabled"])])],32))}}),$l={key:0,class:"flex items-center justify-center h-full"},Vl=N({__name:"HardwareConfigTab",setup(k){const{data:b,isPending:v}=ye();return(C,T)=>(_(),E(j,null,[e(v)?(_(),E("div",$l,[l(e(B),{class:"w-4 h-4 animate-spin"})])):V("",!0),e(b)?(_(),R(Tl,{key:1,"initial-values":e(b)},null,8,["initial-values"])):V("",!0)],64))}}),Il={class:"space-y-0.5"},Dl=N({__name:"HTTPConfigForm",props:{initialValues:{}},setup(k){const b=k,v=A({port:Q().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:J().default(!1)}),C=te(),{mutate:T,isPending:w}=ve(),I=se({validationSchema:de(v),initialValues:b.initialValues}).handleSubmit(u=>{T(u,{onSuccess:()=>{C.setQueryData([Se],u),M.success("HTTP configuration updated successfully!")},onError:()=>{M.error("Failed to update HTTP configuration")}})});return(u,d)=>(_(),E("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...y)=>e(I)&&e(I)(...y))},[d[4]||(d[4]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(o),{name:"port"},{default:a(({field:y})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>d[1]||(d[1]=[s("Port")])),_:1,__:[1]}),l(e(m),null,{default:a(()=>[l(e($),{modelValue:y.value,"onUpdate:modelValue":H=>y.value=H,type:"number",placeholder:"Enter port number",disabled:e(w),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"swagger"},{default:a(({value:y,handleChange:H})=>[l(e(r),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Il,[l(e(f),null,{default:a(()=>d[2]||(d[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(m),null,{default:a(()=>[l(e(Z),{"model-value":y,disabled:e(w),"aria-readonly":"","onUpdate:modelValue":H},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(X),{type:"submit",disabled:e(w)},{default:a(()=>[e(w)?(_(),R(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):V("",!0),d[3]||(d[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),Al={key:0,class:"flex items-center justify-center h-full"},Rl=N({__name:"HTTPConfigTab",setup(k){const{data:b,isPending:v}=xe();return(C,T)=>(_(),E(j,null,[e(v)?(_(),E("div",Al,[l(e(B),{class:"w-4 h-4 animate-spin"})])):V("",!0),e(b)?(_(),R(Dl,{key:1,"initial-values":e(b)},null,8,["initial-values"])):V("",!0)],64))}}),Nl={class:"flex items-center justify-between"},hl={class:"space-y-0.5"},Ol={class:"flex items-center justify-between"},Ll={class:"space-y-0.5"},Ul=N({__name:"WifiConfigForm",props:{initialValues:{}},setup(k){const b=k,v=/^[\w\s\-.]*$/,C=/^[\x21-\x7E]*$/,T=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,w=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\/(16|24))?$/,S=A({ap:A({enable:J(),ssid:q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(v,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(C,"Password can only contain printable characters"),ip:q().min(1,"IP address is required").regex(T,"Invalid IPv4 address format")}),sta:A({enable:J(),ssid:q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(v,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(C,"Password can only contain printable characters"),ip:q().min(1,"IP address is required").regex(w,"Invalid IPv4 address format")})}).superRefine((h,c)=>{(h.ap.enable&&h.sta.enable||!h.ap.enable&&!h.sta.enable)&&(c.addIssue({code:G.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),c.addIssue({code:G.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),I=te(),{mutate:u,isPending:d}=we(),H=se({validationSchema:de(S),initialValues:b.initialValues}).handleSubmit(h=>{u(h,{onSuccess:()=>{I.setQueryData([Ce],h),M.success("WiFi configuration updated successfully!")},onError:()=>{M.error("Failed to update WiFi configuration")}})});return(h,c)=>(_(),E("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:c[0]||(c[0]=(...g)=>e(H)&&e(H)(...g))},[c[10]||(c[10]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(o),{type:"checkbox",name:"ap.enable"},{default:a(({value:g,handleChange:t})=>[l(e(r),{class:"p-4 border rounded-lg"},{default:a(()=>[n("div",Nl,[n("div",hl,[l(e(f),null,{default:a(()=>c[1]||(c[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(m),null,{default:a(()=>[l(e(Z),{"model-value":g,disabled:e(d),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"ap.ssid"},{default:a(({componentField:g})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>c[2]||(c[2]=[s("SSID")])),_:1,__:[2]}),l(e(m),null,{default:a(()=>[l(e($),P(g,{placeholder:"Enter SSID",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"ap.password"},{default:a(({componentField:g})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>c[3]||(c[3]=[s("Password")])),_:1,__:[3]}),l(e(m),null,{default:a(()=>[l(e(ue),P(g,{placeholder:"Enter password",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"ap.ip"},{default:a(({componentField:g})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>c[4]||(c[4]=[s("IP Address")])),_:1,__:[4]}),l(e(m),null,{default:a(()=>[l(e($),P(g,{placeholder:"Enter IP address",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),c[11]||(c[11]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(o),{type:"checkbox",name:"sta.enable"},{default:a(({value:g,handleChange:t})=>[l(e(r),{class:"p-4 border rounded-lg"},{default:a(()=>[n("div",Ol,[n("div",Ll,[l(e(f),null,{default:a(()=>c[5]||(c[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(m),null,{default:a(()=>[l(e(Z),{"model-value":g,disabled:e(d),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"sta.ssid"},{default:a(({componentField:g})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>c[6]||(c[6]=[s("SSID")])),_:1,__:[6]}),l(e(m),null,{default:a(()=>[l(e($),P(g,{placeholder:"Enter SSID",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"sta.password"},{default:a(({componentField:g})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>c[7]||(c[7]=[s("Password")])),_:1,__:[7]}),l(e(m),null,{default:a(()=>[l(e(ue),P(g,{placeholder:"Enter password",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),l(e(o),{name:"sta.ip"},{default:a(({componentField:g})=>[l(e(r),null,{default:a(()=>[l(e(f),null,{default:a(()=>c[8]||(c[8]=[s("Static IP Address")])),_:1,__:[8]}),l(e(m),null,{default:a(()=>[l(e($),P(g,{placeholder:"Enter IP address",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(p))]),_:2},1024)]),_:1}),n("div",null,[l(e(X),{type:"submit",disabled:e(d)},{default:a(()=>[e(d)?(_(),R(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):V("",!0),c[9]||(c[9]=s(" Save "))]),_:1,__:[9]},8,["disabled"])])],32))}}),Fl={key:0,class:"flex items-center justify-center h-full"},ql=N({__name:"WifiConfigTab",setup(k){const{data:b,isPending:v}=ke();return(C,T)=>(_(),E(j,null,[e(v)?(_(),E("div",Fl,[l(e(B),{class:"w-4 h-4 animate-spin"})])):V("",!0),e(b)?(_(),R(Ul,{key:1,"initial-values":e(b)},null,8,["initial-values"])):V("",!0)],64))}}),Bl={class:"text-sm text-muted-foreground"},aa=N({__name:"SettingsView",setup(k){const b=Re(),v=he(),C=b.query.tab??"hardware";function T(w){v.replace({query:{tab:w}})}return(w,S)=>{const I=Ne("RouterLink");return _(),R(Le,null,{default:a(()=>[n("div",null,[S[2]||(S[2]=n("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),n("p",Bl,[S[1]||(S[1]=s(" Configure your robot's settings ")),l(I,{to:"/reboot",class:"text-blue-500"},{default:a(()=>S[0]||(S[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(Fe),{"default-value":e(C),"onUpdate:modelValue":T},{default:a(()=>[l(e(Ue),null,{default:a(()=>[l(e(ee),{value:"hardware"},{default:a(()=>S[3]||(S[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(ee),{value:"cloud"},{default:a(()=>S[4]||(S[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(ee),{value:"http"},{default:a(()=>S[5]||(S[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(ee),{value:"wifi"},{default:a(()=>S[6]||(S[6]=[s(" WiFi ")])),_:1,__:[6]}),l(e(ee),{value:"command"},{default:a(()=>S[7]||(S[7]=[s(" Command ")])),_:1,__:[7]})]),_:1}),l(e(le),{value:"hardware"},{default:a(()=>[l(Vl)]),_:1}),l(e(le),{value:"cloud"},{default:a(()=>[l(Ge)]),_:1}),l(e(le),{value:"http"},{default:a(()=>[l(Rl)]),_:1}),l(e(le),{value:"wifi"},{default:a(()=>[l(ql)]),_:1}),l(e(le),{value:"command"},{default:a(()=>[l(sl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{aa as default};
