import{e as D}from"./http-Z9rgl52c.js";import{B as P,D as I,E as R,I as O,N as F,O as z,P as K,Z as w,g as Q,h as Y,i as q,j as G,k as J,m as W,p as X,q as ee,r as le,v as E,w as ae,x as te,y as se,z as ne,A as oe,C as de,G as ue,H as ie,J as re,K as me,L as fe,M as be,Q as pe,R as _e,S as ge,T as ye,U as ce,V as ve,W as he,X as Te,Y as Ve,$ as xe,a0 as Ze,a1 as we,a2 as je,a3 as Le,a4 as Ue,a5 as Ce,a6 as He,a7 as Ae,a8 as $e,a9 as Ee,aa as Me,ab as Se,ac as Ne,ad as Be,ae as ke,af as De,ag as Pe,ah as Ie,e as Re,ai as M,aj as Oe,ak as Fe,al as ze,am as Ke,an as Qe,ao as Ye,ap as qe,aq as Ge,ar as Je,as as We,at as Xe,au as el,l as ll,av as al,aw as tl,ax as sl,ay as nl,az as ol,aA as dl,aB as ul,n as il,o as rl,aC as ml,aD as fl,aE as bl,aF as pl,aG as _l,aH as gl,aI as yl,aJ as cl,aK as vl,aL as hl,aM as Tl,aN as Vl,aO as xl,s as Zl,aP as wl,aQ as jl,aR as Ll,u as Ul,aS as Cl,aT as Hl,aU as Al,f as $l,F as i,a as r,_ as m,d as f,b as g,c as y,t as El}from"./FormMessage.vuevuetypescriptsetuptruelang-WYaIZJOd.js";import{_ as Ml}from"./index-CvEIS6KB.js";import{a as j,_ as L}from"./CardContent.vuevuetypescriptsetuptruelang-DX8ITtLu.js";import{a as U,_ as C}from"./CardTitle.vuevuetypescriptsetuptruelang-BXgDO8nm.js";/* empty css                                                              */import{u as Sl,B as Nl,_ as c,a as Bl}from"./use-config-DatuapqB.js";import{d as N,J as S,p as H,o as h,l as n,g as l,w as a,u as e,s as b,m as v,c as A,D as B,G as kl,v as Dl}from"./index-BWQiikOf.js";import{L as k,_ as Pl}from"./PageContainer.vuevuetypescriptsetuptruelang-BMnOwmiV.js";import{C as Il}from"./circle-alert-Dx4xwqRq.js";import"./useForwardPropsEmits-BdCRpJMf.js";import"./useFormControl-lm5GEZvp.js";const d=Object.freeze(Object.defineProperty({__proto__:null,BRAND:P,DIRTY:I,EMPTY_PATH:R,INVALID:O,NEVER:F,OK:z,ParseStatus:K,Schema:w,ZodAny:Q,ZodArray:Y,ZodBigInt:q,ZodBoolean:G,ZodBranded:J,ZodCatch:W,ZodDate:X,ZodDefault:ee,ZodDiscriminatedUnion:le,ZodEffects:E,ZodEnum:ae,ZodError:te,get ZodFirstPartyTypeKind(){return se},ZodFunction:ne,ZodIntersection:oe,ZodIssueCode:de,ZodLazy:ue,ZodLiteral:ie,ZodMap:re,ZodNaN:me,ZodNativeEnum:fe,ZodNever:be,ZodNull:pe,ZodNullable:_e,ZodNumber:ge,ZodObject:ye,ZodOptional:ce,ZodParsedType:ve,ZodPipeline:he,ZodPromise:Te,ZodReadonly:Ve,ZodRecord:xe,ZodSchema:w,ZodSet:Ze,ZodString:we,ZodSymbol:je,ZodTransformer:E,ZodTuple:Le,ZodType:w,ZodUndefined:Ue,ZodUnion:Ce,ZodUnknown:He,ZodVoid:Ae,addIssueToContext:$e,any:Ee,array:Me,bigint:Se,boolean:Ne,coerce:Be,custom:ke,date:De,datetimeRegex:Pe,defaultErrorMap:Ie,discriminatedUnion:Re,effect:M,enum:Oe,function:Fe,getErrorMap:ze,getParsedType:Ke,instanceof:Qe,intersection:Ye,isAborted:qe,isAsync:Ge,isDirty:Je,isValid:We,late:Xe,lazy:el,literal:ll,makeIssue:al,map:tl,nan:sl,nativeEnum:nl,never:ol,null:dl,nullable:ul,number:il,object:rl,get objectUtil(){return ml},oboolean:fl,onumber:bl,optional:pl,ostring:_l,pipeline:gl,preprocess:yl,promise:cl,quotelessJson:vl,record:hl,set:Tl,setErrorMap:Vl,strictObject:xl,string:Zl,symbol:wl,transformer:M,tuple:jl,undefined:Ll,union:Ul,unknown:Cl,get util(){return Hl},void:Al},Symbol.toStringTag,{value:"Module"})),Rl=d.object({voltageLow:d.object({enable:d.boolean(),threshold:d.number().min(0)}),voltageHigh:d.object({enable:d.boolean(),threshold:d.number().min(0)}),cellVoltageHigh:d.object({enable:d.boolean(),threshold:d.number().min(0)}),cellVoltageLow:d.object({enable:d.boolean(),threshold:d.number().min(0)}),cellVoltageDiff:d.object({enable:d.boolean(),threshold:d.number().min(0)}),currentHigh:d.object({enable:d.boolean(),threshold:d.number().min(0)}),tempHigh:d.object({enable:d.boolean(),threshold:d.number().min(0)}),percentLow:d.object({enable:d.boolean(),threshold:d.number().min(0).max(100)}),healthLow:d.object({enable:d.boolean(),threshold:d.number().min(0).max(100)})}),Ol={class:"space-y-6"},Fl={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},zl={class:"flex justify-between items-center"},Kl={class:"flex justify-between items-center"},Ql={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Yl={class:"flex justify-between items-center"},ql={class:"flex justify-between items-center"},Gl={class:"flex justify-between items-center"},Jl={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Wl={class:"flex justify-between items-center"},Xl={class:"flex justify-between items-center"},ea={class:"flex justify-between items-center"},la={class:"flex justify-between items-center"},aa=N({__name:"MonitoringConfigForm",props:{initialValues:{}},setup($){const T=$,x=D(),{mutate:Z,isPending:u}=Sl(),p=$l({validationSchema:El(Rl),initialValues:T.initialValues}),_=p.handleSubmit(V=>{Z(V,{onSuccess:()=>{S.success("Monitoring configuration updated successfully!"),x.invalidateQueries({queryKey:[Nl]})},onError:t=>{S.error(t.message)}})});return(V,t)=>(h(),H("form",{class:"flex flex-col space-y-6 w-full",onSubmit:t[0]||(t[0]=(...o)=>e(_)&&e(_)(...o))},[n("div",Ol,[l(e(L),null,{default:a(()=>[l(e(U),null,{default:a(()=>[l(e(C),null,{default:a(()=>t[1]||(t[1]=[b("Battery Voltage Monitoring")])),_:1,__:[1]})]),_:1}),l(e(j),null,{default:a(()=>[n("div",Fl,[n("div",null,[n("div",zl,[t[2]||(t[2]=n("h5",{class:"pb-2 text-base font-medium"}," Voltage Low Alert ",-1)),l(e(i),{name:"voltageLow.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"voltageLow.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[3]||(t[3]=[b("Threshold (mV)")])),_:1,__:[3]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.voltageLow)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),n("div",null,[n("div",Kl,[t[4]||(t[4]=n("h5",{class:"pb-2 text-base font-medium"}," Voltage High Alert ",-1)),l(e(i),{name:"voltageHigh.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"voltageHigh.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[5]||(t[5]=[b("Threshold (mV)")])),_:1,__:[5]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.voltageHigh)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})])])]),_:1})]),_:1}),l(e(L),null,{default:a(()=>[l(e(U),null,{default:a(()=>[l(e(C),null,{default:a(()=>t[6]||(t[6]=[b("Cell Voltage Monitoring")])),_:1,__:[6]})]),_:1}),l(e(j),null,{default:a(()=>[n("div",Ql,[n("div",null,[n("div",Yl,[t[7]||(t[7]=n("h5",{class:"pb-2 text-base font-medium"}," Cell Voltage High Alert ",-1)),l(e(i),{name:"cellVoltageHigh.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"cellVoltageHigh.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[8]||(t[8]=[b("Threshold (mV)")])),_:1,__:[8]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.cellVoltageHigh)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),n("div",null,[n("div",ql,[t[9]||(t[9]=n("h5",{class:"pb-2 text-base font-medium"}," Cell Voltage Low Alert ",-1)),l(e(i),{name:"cellVoltageLow.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"cellVoltageLow.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[10]||(t[10]=[b("Threshold (mV)")])),_:1,__:[10]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.cellVoltageLow)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),n("div",null,[n("div",Gl,[t[11]||(t[11]=n("h5",{class:"pb-2 text-base font-medium"}," Cell Voltage Difference Alert ",-1)),l(e(i),{name:"cellVoltageDiff.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"cellVoltageDiff.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[12]||(t[12]=[b("Threshold (mV)")])),_:1,__:[12]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.cellVoltageDiff)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})])])]),_:1})]),_:1}),l(e(L),null,{default:a(()=>[l(e(U),null,{default:a(()=>[l(e(C),null,{default:a(()=>t[13]||(t[13]=[b("Battery Status Monitoring")])),_:1,__:[13]})]),_:1}),l(e(j),null,{default:a(()=>[n("div",Jl,[n("div",null,[n("div",Wl,[t[14]||(t[14]=n("h5",{class:"pb-2 text-base font-medium"}," Current High Alert ",-1)),l(e(i),{name:"currentHigh.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"currentHigh.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[15]||(t[15]=[b("Threshold (mA)")])),_:1,__:[15]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.currentHigh)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),n("div",null,[n("div",Xl,[t[16]||(t[16]=n("h5",{class:"pb-2 text-base font-medium"}," Temperature High Alert ",-1)),l(e(i),{name:"tempHigh.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"tempHigh.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[17]||(t[17]=[b("Threshold (Â°C)")])),_:1,__:[17]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.tempHigh)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),n("div",null,[n("div",ea,[t[18]||(t[18]=n("h5",{class:"pb-2 text-base font-medium"}," Battery Percent Low Alert ",-1)),l(e(i),{name:"percentLow.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"percentLow.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[19]||(t[19]=[b("Threshold (%)")])),_:1,__:[19]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.percentLow)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),n("div",null,[n("div",la,[t[20]||(t[20]=n("h5",{class:"pb-2 text-base font-medium"}," Battery Health Low Alert ",-1)),l(e(i),{name:"healthLow.enable"},{default:a(({value:o,handleChange:s})=>[l(e(r),null,{default:a(()=>[l(e(m),null,{default:a(()=>[l(e(c),{"model-value":o,disabled:e(u),"onUpdate:modelValue":s},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(f))]),_:2},1024)]),_:1})]),l(e(i),{name:"healthLow.threshold"},{default:a(({componentField:o})=>[l(e(r),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[21]||(t[21]=[b("Threshold (%)")])),_:1,__:[21]}),l(e(m),null,{default:a(()=>{var s;return[l(e(y),v(o,{type:"number",disabled:e(u)||!((s=e(p).values.healthLow)!=null&&s.enable)}),null,16,["disabled"])]}),_:2},1024),l(e(f))]),_:2},1024)]),_:1})])])]),_:1})]),_:1})]),n("div",null,[l(e(Ml),{type:"submit",disabled:e(u)},{default:a(()=>[e(u)?(h(),A(e(k),{key:0,class:"mr-2 w-4 h-4 animate-spin"})):B("",!0),t[22]||(t[22]=b(" Save "))]),_:1,__:[22]},8,["disabled"])])],32))}}),ta={class:"text-sm text-muted-foreground"},sa={key:0,class:"flex justify-center items-center h-64"},na={key:1,class:"flex flex-col gap-4 justify-center items-center pt-20"},oa={class:"flex flex-col gap-4 items-center p-6 text-red-500"},da={class:"space-y-2 text-center"},ua={class:"text-sm text-muted-foreground"},Ta=N({__name:"MonitoringView",setup($){const{data:T,isPending:x,isError:Z,error:u}=Bl();return(p,_)=>{const V=kl("RouterLink");return h(),A(Pl,null,{default:a(()=>{var t;return[n("div",null,[_[2]||(_[2]=n("h1",{class:"text-xl font-semibold tracking-tight"}," Monitoring Configuration ",-1)),n("p",ta,[_[1]||(_[1]=b(" Configure monitoring alerts and thresholds for your robot ")),l(V,{to:"/reboot",class:"text-blue-500"},{default:a(()=>_[0]||(_[0]=[b(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),e(x)?(h(),H("div",sa,[l(e(k),{class:"w-6 h-6 animate-spin"})])):e(Z)?(h(),H("div",na,[n("div",oa,[l(e(Il),{class:"w-8 h-8"}),n("div",da,[_[3]||(_[3]=n("h2",{class:"text-lg font-semibold"}," Failed to load monitoring configuration ",-1)),n("p",ua,Dl(((t=e(u))==null?void 0:t.message)||"An unexpected error occurred"),1)])])])):e(T)?(h(),A(aa,{key:2,"initial-values":e(T)},null,8,["initial-values"])):B("",!0)]}),_:1})}}});export{Ta as default};
