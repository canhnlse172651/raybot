import{u as oe,C as re,_ as K,a as fe,b as me,c as _e,d as pe,e as be,H as ce,f as ge,g as ye,h as ve,i as xe,j as Se,W as we,k as Ce,l as ke,m as X,n as ee,o as Pe}from"./TabsTrigger.vuevuetypescriptsetuptruelang-CcvwWIRI.js";import{c as ie,a as Te,e as ae,i as Ee,u as $e}from"./http-Lmb0ssjr.js";import{c as I,o as A,s as B,g as z,f as te,F as f,a as m,b as _,_ as p,d as c,t as se,n as H,Z,u as ue,h as Ve,l as G}from"./FormMessage.vuevuetypescriptsetuptruelang-N-Cge2Of.js";import{_ as J}from"./index-B8vcKIy4.js";/* empty css                                                              */import{d as R,P as Ie,O as De,r as Ae,p as P,o,g as l,u as e,q as Re,w as a,c as D,l as n,v as le,I as j,s,m as E,D as $,F as Q,E as de,i as M,j as W,a0 as Ne,G as Oe,a1 as Ue}from"./index-CmMNmeyq.js";import{_ as he}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as q,_ as Fe}from"./PageContainer.vuevuetypescriptsetuptruelang-s1TnILZm.js";import{_ as U,a as h,b as F,c as L,d as x}from"./SelectValue.vuevuetypescriptsetuptruelang-RwH6o-4u.js";import"./check-BFUJFhHq.js";import"./RovingFocusGroup-CSLAGiHJ.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ie("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ie("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Be={class:"relative"},He={class:"sr-only"},Qe=R({__name:"PasswordInput",props:Ie({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const b=C,g=De(C,"modelValue"),w=Ae(!1);function T(){w.value=!w.value}return(S,y)=>(o(),P("div",Be,[l(e(I),{modelValue:g.value,"onUpdate:modelValue":y[0]||(y[0]=r=>g.value=r),type:e(w)?"text":"password",class:Re(e(Te)("pr-10 hide-password-toggle",b.class))},null,8,["modelValue","type","class"]),l(e(J),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:T},{default:a(()=>[e(w)&&!b.disabled?(o(),D(e(qe),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(o(),D(e(Le),{key:1,class:"w-4 h-4","aria-hidden":"true"})),n("span",He,le(e(w)?"Hide password":"Show password"),1)]),_:1})]))}}),ne=he(Qe,[["__scopeId","data-v-e2be5266"]]),je={class:"space-y-0.5"},Me=R({__name:"CloudConfigForm",props:{initialValues:{}},setup(C){const b=C,g=A({enable:z().default(!1),address:B().min(1,"Address is required"),token:B().min(1,"Token is required")}),w=ae(),{mutate:T,isPending:S}=oe(),r=te({validationSchema:se(g),initialValues:b.initialValues}).handleSubmit(k=>{T(k,{onSuccess:()=>{w.setQueryData([re],k),j.success("Cloud configuration updated successfully!")},onError:()=>{j.error("Failed to update cloud configuration")}})});return(k,d)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...v)=>e(r)&&e(r)(...v))},[d[5]||(d[5]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(f),{name:"address"},{default:a(({componentField:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[1]||(d[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(p),null,{default:a(()=>[l(e(I),E(v,{type:"url",placeholder:"https://cloud.example.com",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"token"},{default:a(({componentField:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[2]||(d[2]=[s("Auth token")])),_:1,__:[2]}),l(e(p),null,{default:a(()=>[l(e(ne),E(v,{placeholder:"Enter your auth token",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"enable"},{default:a(({value:v,handleChange:N})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",je,[l(e(_),null,{default:a(()=>d[3]||(d[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":v,disabled:e(S),"aria-readonly":"","onUpdate:modelValue":N},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(S)},{default:a(()=>[e(S)?(o(),D(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),d[4]||(d[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),We={key:0,class:"flex items-center justify-center h-full"},Ye=R({__name:"CloudConfigTab",setup(C){const{data:b,isPending:g}=fe();return(w,T)=>(o(),P(Q,null,[e(g)?(o(),P("div",We,[l(e(q),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(Me,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Ge={class:"grid grid-cols-1 gap-8"},Ke={class:"space-y-3"},ze={class:"space-y-6 ps-4"},Ze={class:"grid grid-cols-1 gap-8"},Je={class:"space-y-3"},Xe={class:"space-y-6 ps-4"},el={class:"space-y-6"},ll=R({__name:"CommandConfigForm",props:{initialValues:{}},setup(C){const b=C,g=A({cargoLift:A({stableReadCount:H().int().positive("Stable read count must be positive").min(1)}),cargoLower:A({stableReadCount:H().int().positive("Stable read count must be positive").min(1),bottomObstacleTracking:A({enterDistance:H().int().min(1),exitDistance:H().int().min(1)})})}).superRefine((k,d)=>{k.cargoLower.bottomObstacleTracking.enterDistance>=k.cargoLower.bottomObstacleTracking.exitDistance&&(d.addIssue({code:Z.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.enterDistance"]}),d.addIssue({code:Z.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.exitDistance"]}))}),w=ae(),{mutate:T,isPending:S}=me(),r=te({validationSchema:se(g),initialValues:b.initialValues}).handleSubmit(k=>{T(k,{onSuccess:()=>{j.success("Command configuration updated successfully!"),w.setQueryData([_e],k)}})});return(k,d)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...v)=>e(r)&&e(r)(...v))},[n("div",Ge,[n("div",Ke,[d[2]||(d[2]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lift configuration ",-1)),n("div",ze,[l(e(f),{name:"cargoLift.stableReadCount"},{default:a(({componentField:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[1]||(d[1]=[s("Stable Read Count")])),_:1,__:[1]}),l(e(p),null,{default:a(()=>[l(e(I),E(v,{type:"number",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])]),n("div",Ze,[n("div",Je,[d[7]||(d[7]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lower configuration ",-1)),n("div",Xe,[l(e(f),{name:"cargoLower.stableReadCount"},{default:a(({componentField:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[3]||(d[3]=[s("Stable Read Count")])),_:1,__:[3]}),l(e(p),null,{default:a(()=>[l(e(I),E(v,{type:"number",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),n("div",el,[d[6]||(d[6]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Bottom Obstacle Tracking ",-1)),l(e(f),{name:"cargoLower.bottomObstacleTracking.enterDistance"},{default:a(({componentField:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[4]||(d[4]=[s("Enter Distance (cm)")])),_:1,__:[4]}),l(e(p),null,{default:a(()=>[l(e(I),E(v,{type:"number",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"cargoLower.bottomObstacleTracking.exitDistance"},{default:a(({componentField:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[5]||(d[5]=[s("Exit Distance (cm)")])),_:1,__:[5]}),l(e(p),null,{default:a(()=>[l(e(I),E(v,{type:"number",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])])]),n("div",null,[l(e(J),{type:"submit",disabled:e(S)},{default:a(()=>[e(S)?(o(),D(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),d[8]||(d[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),al={key:0,class:"flex items-center justify-center h-full"},tl=R({__name:"CommandConfigTab",setup(C){const{data:b,isPending:g}=pe();return(w,T)=>(o(),P(Q,null,[e(g)?(o(),P("div",al,[l(e(q),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(ll,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),sl={listAvailableSerialPorts:C=>Ee.get("/peripherals/serials",C)};function dl(C){return $e({queryKey:["serial-ports"],queryFn:()=>sl.listAvailableSerialPorts(C),select:b=>b.items})}const nl={class:"grid grid-cols-1 gap-8"},ul={class:"space-y-3"},il={class:"px-4 space-y-6"},ol={class:"space-y-6"},rl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},fl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},ml={class:"space-y-6"},_l={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},pl={class:"space-y-6"},bl={class:"space-y-3"},cl={class:"px-4 space-y-6"},gl={class:"space-y-6"},yl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},vl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},xl={class:"space-y-6"},Sl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},wl={class:"space-y-6"},Cl=R({__name:"HardwareConfigForm",props:{initialValues:{}},setup(C){const b=C,g=[9600,19200,38400,57600,115200],w=A({port:B().min(1,"Port is required"),baudRate:H().int().positive("Baud rate must be positive"),parity:Ve(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ue([G(5),G(6),G(7),G(8)]).default(8),stopBits:ue([G(1),G(1.5),G(2)]).default(1),readTimeout:H().int().nonnegative("Read timeout must be non-negative")}),T=A({esp:A({serial:w,enableAck:z().default(!1),commandAckTimeout:H().int().nonnegative("Command ack timeout must be non-negative")}),pic:A({serial:w,enableAck:z().default(!1),commandAckTimeout:H().int().nonnegative("Command ack timeout must be non-negative")})}).superRefine((i,t)=>{i.esp.serial.port===i.pic.serial.port&&(t.addIssue({code:Z.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:Z.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),S=ae(),{mutate:y,isPending:r}=be(),{data:k,refetch:d}=dl({doNotShowLoading:!0}),N=te({validationSchema:se(T),initialValues:b.initialValues}).handleSubmit(i=>{y(i,{onSuccess:()=>{S.setQueryData([ce],i),j.success("Hardware configuration updated successfully!")},onError:()=>{j.error("Failed to update hardware configuration")}})});function O(i){i&&d()}return(i,t)=>(o(),P("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...u)=>e(N)&&e(N)(...u))},[n("div",nl,[n("div",ul,[t[22]||(t[22]=n("h4",{class:"text-lg font-medium tracking-tight"}," ESP Controller ",-1)),n("div",il,[n("div",ol,[t[18]||(t[18]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",rl,[l(e(f),{name:"esp.serial.port"},{default:a(({componentField:u,value:V})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(U),E(u,{required:"","onUpdate:open":O}),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:V},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(L),null,{default:a(()=>[l(e(x),{value:"NONEESP"},{default:a(()=>t[2]||(t[2]=[s(" None ")])),_:1,__:[2]}),e(k)?(o(!0),P(Q,{key:0},de(e(k),Y=>(o(),D(e(x),{key:Y.port,value:Y.port},{default:a(()=>[s(le(Y.port),1)]),_:2},1032,["value"]))),128)):$("",!0)]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.readTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[3]||(t[3]=[s("Read Timeout (s)")])),_:1,__:[3]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})]),n("div",fl,[l(e(f),{name:"esp.serial.baudRate"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[4]||(t[4]=[s("Baud Rate")])),_:1,__:[4]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[(o(),P(Q,null,de(g,V=>l(e(x),{key:V,value:V},{default:a(()=>[s(le(V),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.parity"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[5]||(t[5]=[s("Parity")])),_:1,__:[5]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(x),{value:"NONE"},{default:a(()=>t[6]||(t[6]=[s(" None ")])),_:1,__:[6]}),l(e(x),{value:"EVEN"},{default:a(()=>t[7]||(t[7]=[s(" Even ")])),_:1,__:[7]}),l(e(x),{value:"ODD"},{default:a(()=>t[8]||(t[8]=[s(" Odd ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.dataBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[9]||(t[9]=[s("Data Bits")])),_:1,__:[9]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(x),{value:5},{default:a(()=>t[10]||(t[10]=[s(" 5 ")])),_:1,__:[10]}),l(e(x),{value:6},{default:a(()=>t[11]||(t[11]=[s(" 6 ")])),_:1,__:[11]}),l(e(x),{value:7},{default:a(()=>t[12]||(t[12]=[s(" 7 ")])),_:1,__:[12]}),l(e(x),{value:8},{default:a(()=>t[13]||(t[13]=[s(" 8 ")])),_:1,__:[13]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.stopBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[14]||(t[14]=[s("Stop Bits")])),_:1,__:[14]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(x),{value:1},{default:a(()=>t[15]||(t[15]=[s(" 1 ")])),_:1,__:[15]}),l(e(x),{value:1.5},{default:a(()=>t[16]||(t[16]=[s(" 1.5 ")])),_:1,__:[16]}),l(e(x),{value:2},{default:a(()=>t[17]||(t[17]=[s(" 2 ")])),_:1,__:[17]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1})])]),n("div",ml,[t[21]||(t[21]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",_l,[n("div",pl,[l(e(f),{name:"esp.enableAck"},{default:a(({value:u,handleChange:V})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(_),null,{default:a(()=>t[19]||(t[19]=[s("Enable Ack")])),_:1,__:[19]}),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":u,disabled:e(r),"aria-readonly":"","onUpdate:modelValue":V},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.commandAckTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[20]||(t[20]=[s("Ack Timeout (ms)")])),_:1,__:[20]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])])])]),n("div",bl,[t[44]||(t[44]=n("h4",{class:"text-lg font-medium tracking-tight"}," PIC Controller ",-1)),n("div",cl,[n("div",gl,[t[40]||(t[40]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",yl,[l(e(f),{name:"pic.serial.port"},{default:a(({componentField:u,value:V})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[23]||(t[23]=[s("Port")])),_:1,__:[23]}),l(e(U),E(u,{required:"","onUpdate:open":O}),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:V},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(L),null,{default:a(()=>[l(e(x),{value:"NONEPIC"},{default:a(()=>t[24]||(t[24]=[s(" None ")])),_:1,__:[24]}),e(k)?(o(!0),P(Q,{key:0},de(e(k),Y=>(o(),D(e(x),{key:Y.port,value:Y.port},{default:a(()=>[s(le(Y.port),1)]),_:2},1032,["value"]))),128)):$("",!0)]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.readTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[25]||(t[25]=[s("Read Timeout (s)")])),_:1,__:[25]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})]),n("div",vl,[l(e(f),{name:"pic.serial.baudRate"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[26]||(t[26]=[s("Baud Rate")])),_:1,__:[26]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[(o(),P(Q,null,de(g,V=>l(e(x),{key:V,value:V},{default:a(()=>[s(le(V),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.parity"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[27]||(t[27]=[s("Parity")])),_:1,__:[27]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(x),{value:"NONE"},{default:a(()=>t[28]||(t[28]=[s(" None ")])),_:1,__:[28]}),l(e(x),{value:"EVEN"},{default:a(()=>t[29]||(t[29]=[s(" Even ")])),_:1,__:[29]}),l(e(x),{value:"ODD"},{default:a(()=>t[30]||(t[30]=[s(" Odd ")])),_:1,__:[30]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.dataBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[31]||(t[31]=[s("Data Bits")])),_:1,__:[31]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(x),{value:5},{default:a(()=>t[32]||(t[32]=[s(" 5 ")])),_:1,__:[32]}),l(e(x),{value:6},{default:a(()=>t[33]||(t[33]=[s(" 6 ")])),_:1,__:[33]}),l(e(x),{value:7},{default:a(()=>t[34]||(t[34]=[s(" 7 ")])),_:1,__:[34]}),l(e(x),{value:8},{default:a(()=>t[35]||(t[35]=[s(" 8 ")])),_:1,__:[35]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.stopBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[36]||(t[36]=[s("Stop Bits")])),_:1,__:[36]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(h),{disabled:e(r)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(x),{value:1},{default:a(()=>t[37]||(t[37]=[s(" 1 ")])),_:1,__:[37]}),l(e(x),{value:1.5},{default:a(()=>t[38]||(t[38]=[s(" 1.5 ")])),_:1,__:[38]}),l(e(x),{value:2},{default:a(()=>t[39]||(t[39]=[s(" 2 ")])),_:1,__:[39]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1})])]),n("div",xl,[t[43]||(t[43]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",Sl,[n("div",wl,[l(e(f),{name:"pic.enableAck"},{default:a(({value:u,handleChange:V})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(_),null,{default:a(()=>t[41]||(t[41]=[s("Enable Ack")])),_:1,__:[41]}),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":u,disabled:e(r),"aria-readonly":"","onUpdate:modelValue":V},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.commandAckTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[42]||(t[42]=[s("Ack Timeout (ms)")])),_:1,__:[42]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])])])])]),n("div",null,[l(e(J),{type:"submit",disabled:e(r)},{default:a(()=>[e(r)?(o(),D(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),t[45]||(t[45]=s(" Save "))]),_:1,__:[45]},8,["disabled"])])],32))}}),kl={key:0,class:"flex items-center justify-center h-full"},Pl=R({__name:"HardwareConfigTab",setup(C){const{data:b,isPending:g}=ge();return(w,T)=>(o(),P(Q,null,[e(g)?(o(),P("div",kl,[l(e(q),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(Cl,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Tl={class:"space-y-0.5"},El=R({__name:"HTTPConfigForm",props:{initialValues:{}},setup(C){const b=C,g=A({port:H().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:z().default(!1)}),w=ae(),{mutate:T,isPending:S}=ye(),r=te({validationSchema:se(g),initialValues:b.initialValues}).handleSubmit(k=>{T(k,{onSuccess:()=>{w.setQueryData([ve],k),j.success("HTTP configuration updated successfully!")},onError:()=>{j.error("Failed to update HTTP configuration")}})});return(k,d)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...v)=>e(r)&&e(r)(...v))},[d[4]||(d[4]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(f),{name:"port"},{default:a(({field:v})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[1]||(d[1]=[s("Port")])),_:1,__:[1]}),l(e(p),null,{default:a(()=>[l(e(I),{modelValue:v.value,"onUpdate:modelValue":N=>v.value=N,type:"number",placeholder:"Enter port number",disabled:e(S),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"swagger"},{default:a(({value:v,handleChange:N})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Tl,[l(e(_),null,{default:a(()=>d[2]||(d[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":v,disabled:e(S),"aria-readonly":"","onUpdate:modelValue":N},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(S)},{default:a(()=>[e(S)?(o(),D(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),d[3]||(d[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),$l={key:0,class:"flex items-center justify-center h-full"},Vl=R({__name:"HTTPConfigTab",setup(C){const{data:b,isPending:g}=xe();return(w,T)=>(o(),P(Q,null,[e(g)?(o(),P("div",$l,[l(e(q),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(El,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Il={class:"flex items-center justify-between"},Dl={class:"space-y-0.5"},Al={class:"flex items-center justify-between"},Rl={class:"space-y-0.5"},Nl=R({__name:"WifiConfigForm",props:{initialValues:{}},setup(C){const b=C,g=/^[\w\s\-.]*$/,w=/^[\x21-\x7E]*$/,T=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,S=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\/(16|24))?$/,y=A({ap:A({enable:z(),ssid:B().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(g,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:B().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters"),ip:B().min(1,"IP address is required").regex(T,"Invalid IPv4 address format")}),sta:A({enable:z(),ssid:B().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(g,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:B().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters"),ip:B().min(1,"IP address is required").regex(S,"Invalid IPv4 address format")})}).superRefine((O,i)=>{(O.ap.enable&&O.sta.enable||!O.ap.enable&&!O.sta.enable)&&(i.addIssue({code:Z.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),i.addIssue({code:Z.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),r=ae(),{mutate:k,isPending:d}=Se(),N=te({validationSchema:se(y),initialValues:b.initialValues}).handleSubmit(O=>{k(O,{onSuccess:()=>{r.setQueryData([we],O),j.success("WiFi configuration updated successfully!")},onError:()=>{j.error("Failed to update WiFi configuration")}})});return(O,i)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:i[0]||(i[0]=(...t)=>e(N)&&e(N)(...t))},[i[10]||(i[10]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(f),{type:"checkbox",name:"ap.enable"},{default:a(({value:t,handleChange:u})=>[l(e(m),{class:"p-4 border rounded-lg"},{default:a(()=>[n("div",Il,[n("div",Dl,[l(e(_),null,{default:a(()=>i[1]||(i[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":t,disabled:e(d),"onUpdate:modelValue":u},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"ap.ssid"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[2]||(i[2]=[s("SSID")])),_:1,__:[2]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter SSID",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"ap.password"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[3]||(i[3]=[s("Password")])),_:1,__:[3]}),l(e(p),null,{default:a(()=>[l(e(ne),E(t,{placeholder:"Enter password",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"ap.ip"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[4]||(i[4]=[s("IP Address")])),_:1,__:[4]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter IP address",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),i[11]||(i[11]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(f),{type:"checkbox",name:"sta.enable"},{default:a(({value:t,handleChange:u})=>[l(e(m),{class:"p-4 border rounded-lg"},{default:a(()=>[n("div",Al,[n("div",Rl,[l(e(_),null,{default:a(()=>i[5]||(i[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":t,disabled:e(d),"onUpdate:modelValue":u},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"sta.ssid"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[6]||(i[6]=[s("SSID")])),_:1,__:[6]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter SSID",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"sta.password"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[7]||(i[7]=[s("Password")])),_:1,__:[7]}),l(e(p),null,{default:a(()=>[l(e(ne),E(t,{placeholder:"Enter password",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"sta.ip"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[8]||(i[8]=[s("Static IP Address")])),_:1,__:[8]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter IP address",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(d)},{default:a(()=>[e(d)?(o(),D(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),i[9]||(i[9]=s(" Save "))]),_:1,__:[9]},8,["disabled"])])],32))}}),Ol={key:0,class:"flex items-center justify-center h-full"},Ul=R({__name:"WifiConfigTab",setup(C){const{data:b,isPending:g}=Ce();return(w,T)=>(o(),P(Q,null,[e(g)?(o(),P("div",Ol,[l(e(q),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(Nl,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),hl={class:"text-sm text-muted-foreground"},Kl=R({__name:"SettingsView",setup(C){const b=Ne(),g=Ue(),w=b.query.tab??"hardware";function T(S){g.replace({query:{tab:S}})}return(S,y)=>{const r=Oe("RouterLink");return o(),D(Fe,null,{default:a(()=>[n("div",null,[y[2]||(y[2]=n("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),n("p",hl,[y[1]||(y[1]=s(" Configure your robot's settings ")),l(r,{to:"/reboot",class:"text-blue-500"},{default:a(()=>y[0]||(y[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(Pe),{"default-value":e(w),"onUpdate:modelValue":T},{default:a(()=>[l(e(ke),null,{default:a(()=>[l(e(X),{value:"hardware"},{default:a(()=>y[3]||(y[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(X),{value:"cloud"},{default:a(()=>y[4]||(y[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(X),{value:"http"},{default:a(()=>y[5]||(y[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(X),{value:"wifi"},{default:a(()=>y[6]||(y[6]=[s(" WiFi ")])),_:1,__:[6]}),l(e(X),{value:"command"},{default:a(()=>y[7]||(y[7]=[s(" Command ")])),_:1,__:[7]})]),_:1}),l(e(ee),{value:"hardware"},{default:a(()=>[l(Pl)]),_:1}),l(e(ee),{value:"cloud"},{default:a(()=>[l(Ye)]),_:1}),l(e(ee),{value:"http"},{default:a(()=>[l(Vl)]),_:1}),l(e(ee),{value:"wifi"},{default:a(()=>[l(Ul)]),_:1}),l(e(ee),{value:"command"},{default:a(()=>[l(tl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Kl as default};
