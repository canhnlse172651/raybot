import{p as J,L as W,_ as q,q as Q,l as Z,m as j,n as G,o as h}from"./TabsTrigger.vuevuetypescriptsetuptruelang-CcvwWIRI.js";import{e as A}from"./http-Lmb0ssjr.js";import{o as X,u as w,g as H,l as d,f as M,F as _,a as m,b as g,_ as x,d as L,t as Y,n as ee,s as le,c as P}from"./FormMessage.vuevuetypescriptsetuptruelang-N-Cge2Of.js";import{_ as z}from"./index-B8vcKIy4.js";import{_ as O,a as k,b as V,c as U,d as i}from"./SelectValue.vuevuetypescriptsetuptruelang-RwH6o-4u.js";import{d as N,I as D,p as $,o as f,u as e,g as l,l as y,w as a,s as o,i as E,j as F,c as T,D as S,F as K,m as ae,a0 as te,G as oe,a1 as ne}from"./index-CmMNmeyq.js";import{L as B,_ as se}from"./PageContainer.vuevuetypescriptsetuptruelang-s1TnILZm.js";/* empty css                                                              */import"./check-BFUJFhHq.js";import"./RovingFocusGroup-CSLAGiHJ.js";const ue={class:"space-y-0.5"},de=N({__name:"LogConsoleConfigForm",props:{logConfig:{}},setup(c){const u=c,r=X({enable:H(),level:w([d("DEBUG"),d("INFO"),d("WARN"),d("ERROR")]),format:w([d("JSON"),d("TEXT")])}),p=M({validationSchema:Y(r),initialValues:u.logConfig.console}),b=A(),{mutate:C,isPending:n}=J(),v=p.handleSubmit(R=>{const t={...u.logConfig,console:R};C(t,{onSuccess:()=>{b.setQueryData([W],t),D.success("Log configuration updated successfully!")},onError:()=>{D.error("Failed to update log configuration")}})});return(R,t)=>(f(),$("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:t[0]||(t[0]=(...s)=>e(v)&&e(v)(...s))},[l(e(_),{name:"enable"},{default:a(({value:s,handleChange:I})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[y("div",ue,[l(e(g),null,{default:a(()=>t[1]||(t[1]=[o("Enable Log Handler")])),_:1,__:[1]})]),l(e(x),null,{default:a(()=>[l(e(q),{"model-value":s,disabled:e(n),"aria-readonly":"","onUpdate:modelValue":I},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),l(e(_),{name:"level"},{default:a(({componentField:s})=>[l(e(m),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[2]||(t[2]=[o("Log Level")])),_:1,__:[2]}),l(e(O),E(F(s)),{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(k),{disabled:e(n)},{default:a(()=>[l(e(V),{placeholder:"Select log level"})]),_:1},8,["disabled"])]),_:1}),l(e(U),null,{default:a(()=>[l(e(i),{value:"DEBUG"},{default:a(()=>t[3]||(t[3]=[o(" Debug ")])),_:1,__:[3]}),l(e(i),{value:"INFO"},{default:a(()=>t[4]||(t[4]=[o(" Info ")])),_:1,__:[4]}),l(e(i),{value:"WARN"},{default:a(()=>t[5]||(t[5]=[o(" Warning ")])),_:1,__:[5]}),l(e(i),{value:"ERROR"},{default:a(()=>t[6]||(t[6]=[o(" Error ")])),_:1,__:[6]})]),_:1})]),_:2},1040),l(e(L))]),_:2},1024)]),_:1}),l(e(_),{name:"format"},{default:a(({componentField:s})=>[l(e(m),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[7]||(t[7]=[o("Log Formatter")])),_:1,__:[7]}),l(e(O),E(F(s)),{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(k),{disabled:e(n)},{default:a(()=>[l(e(V),{placeholder:"Select log format"})]),_:1},8,["disabled"])]),_:1}),l(e(U),null,{default:a(()=>[l(e(i),{value:"JSON"},{default:a(()=>t[8]||(t[8]=[o(" JSON ")])),_:1,__:[8]}),l(e(i),{value:"TEXT"},{default:a(()=>t[9]||(t[9]=[o(" Text ")])),_:1,__:[9]})]),_:1})]),_:2},1040),l(e(L))]),_:2},1024)]),_:1}),y("div",null,[l(e(z),{type:"submit",disabled:e(n)},{default:a(()=>[e(n)?(f(),T(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):S("",!0),t[10]||(t[10]=o(" Save "))]),_:1,__:[10]},8,["disabled"])])],32))}}),ie={key:0,class:"flex items-center justify-center h-full"},fe=N({__name:"LogConsoleConfigTab",setup(c){const{data:u,isPending:r}=Q();return(p,b)=>(f(),$(K,null,[e(r)?(f(),$("div",ie,[l(e(B),{class:"w-4 h-4 animate-spin"})])):S("",!0),e(u)?(f(),T(de,{key:1,"log-config":e(u)},null,8,["log-config"])):S("",!0)],64))}}),re={class:"space-y-0.5"},_e=N({__name:"LogFileConfigForm",props:{logConfig:{}},setup(c){const u=c,r=X({enable:H(),path:le().default("logs/raybot.log"),rotationCount:ee().min(1).default(10),format:w([d("JSON"),d("TEXT")]),level:w([d("DEBUG"),d("INFO"),d("WARN"),d("ERROR")])}),p=M({validationSchema:Y(r),initialValues:u.logConfig.file}),b=A(),{mutate:C,isPending:n}=J(),v=p.handleSubmit(R=>{const t={...u.logConfig,file:R};C(t,{onSuccess:()=>{b.setQueryData([W],t),D.success("Log configuration updated successfully!")},onError:()=>{D.error("Failed to update log configuration")}})});return(R,t)=>(f(),$("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:t[0]||(t[0]=(...s)=>e(v)&&e(v)(...s))},[l(e(_),{name:"enable"},{default:a(({value:s,handleChange:I})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[y("div",re,[l(e(g),null,{default:a(()=>t[1]||(t[1]=[o("Enable Log Handler")])),_:1,__:[1]})]),l(e(x),null,{default:a(()=>[l(e(q),{"model-value":s,disabled:e(n),"aria-readonly":"","onUpdate:modelValue":I},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),l(e(_),{name:"path"},{default:a(({componentField:s})=>[l(e(m),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[2]||(t[2]=[o("Log File Name")])),_:1,__:[2]}),l(e(P),E(F(s)),null,16),l(e(L))]),_:2},1024)]),_:1}),l(e(_),{name:"rotationCount"},{default:a(({componentField:s})=>[l(e(m),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[3]||(t[3]=[o("Max Log Files Number")])),_:1,__:[3]}),l(e(P),ae({type:"number"},s),null,16),l(e(L))]),_:2},1024)]),_:1}),l(e(_),{name:"level"},{default:a(({componentField:s})=>[l(e(m),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[4]||(t[4]=[o("Log Level")])),_:1,__:[4]}),l(e(O),E(F(s)),{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(k),{disabled:e(n)},{default:a(()=>[l(e(V),{placeholder:"Select log level"})]),_:1},8,["disabled"])]),_:1}),l(e(U),null,{default:a(()=>[l(e(i),{value:"DEBUG"},{default:a(()=>t[5]||(t[5]=[o(" Debug ")])),_:1,__:[5]}),l(e(i),{value:"INFO"},{default:a(()=>t[6]||(t[6]=[o(" Info ")])),_:1,__:[6]}),l(e(i),{value:"WARN"},{default:a(()=>t[7]||(t[7]=[o(" Warning ")])),_:1,__:[7]}),l(e(i),{value:"ERROR"},{default:a(()=>t[8]||(t[8]=[o(" Error ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(L))]),_:2},1024)]),_:1}),l(e(_),{name:"format"},{default:a(({componentField:s})=>[l(e(m),null,{default:a(()=>[l(e(g),null,{default:a(()=>t[9]||(t[9]=[o("Log Formatter")])),_:1,__:[9]}),l(e(O),E(F(s)),{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(k),{disabled:e(n)},{default:a(()=>[l(e(V),{placeholder:"Select log format"})]),_:1},8,["disabled"])]),_:1}),l(e(U),null,{default:a(()=>[l(e(i),{value:"JSON"},{default:a(()=>t[10]||(t[10]=[o(" JSON ")])),_:1,__:[10]}),l(e(i),{value:"TEXT"},{default:a(()=>t[11]||(t[11]=[o(" Text ")])),_:1,__:[11]})]),_:1})]),_:2},1040),l(e(L))]),_:2},1024)]),_:1}),y("div",null,[l(e(z),{type:"submit",disabled:e(n)},{default:a(()=>[e(n)?(f(),T(e(B),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):S("",!0),t[12]||(t[12]=o(" Save "))]),_:1,__:[12]},8,["disabled"])])],32))}}),me={key:0,class:"flex items-center justify-center h-full"},ge=N({__name:"LogFileConfigTab",setup(c){const{data:u,isPending:r}=Q();return(p,b)=>(f(),$(K,null,[e(r)?(f(),$("div",me,[l(e(B),{class:"w-4 h-4 animate-spin"})])):S("",!0),e(u)?(f(),T(_e,{key:1,"log-config":e(u)},null,8,["log-config"])):S("",!0)],64))}}),pe={class:"text-sm text-muted-foreground"},Ee=N({__name:"LoggingView",setup(c){const u=te(),r=ne(),p=u.query.tab??"console";function b(C){r.replace({query:{tab:C}})}return(C,n)=>{const v=oe("RouterLink");return f(),T(se,null,{default:a(()=>[y("div",null,[n[2]||(n[2]=y("h1",{class:"text-xl font-semibold tracking-tight"}," Logging ",-1)),y("p",pe,[n[1]||(n[1]=o(" Log configuration allows users to set up and manage the logging system ")),l(v,{to:"/reboot",class:"text-blue-500"},{default:a(()=>n[0]||(n[0]=[o(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(h),{"default-value":e(p),"onUpdate:modelValue":b},{default:a(()=>[l(e(Z),null,{default:a(()=>[l(e(j),{value:"console"},{default:a(()=>n[3]||(n[3]=[o(" Console Log ")])),_:1,__:[3]}),l(e(j),{value:"file"},{default:a(()=>n[4]||(n[4]=[o(" File Log ")])),_:1,__:[4]})]),_:1}),l(e(G),{value:"console"},{default:a(()=>[l(fe)]),_:1}),l(e(G),{value:"file"},{default:a(()=>[l(ge)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Ee as default};
